<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="login">

	<typeAlias alias="login" type="login.LoginVO" />
	
		<resultMap id="loginRes" class="login">
		  	<result property="m_id" column="M_ID"/>
		  	<result property="m_pw" column="M_PW"/>
           	<result property="m_no" column="M_NO"/>
           	<result property="m_name" column="M_NAME"/>
           	<result property="m_bd" column="M_BD"/>
           	<result property="m_jumin" column="M_JUMIN"/>
           	<result property="m_email" column="M_EMAIL"/>
           	<result property="m_phone" column="M_PHONE"/>
           	<result property="m_zipcode" column="M_ZIPCODE"/>
           	<result property="m_addr1" column="M_ADDR1"/>
           	<result property="m_addr2" column="M_ADDR2"/>
           	<result property="m_isadmin" column="m_isadmin"/>
		</resultMap>
		
		<sql id="select-all">
			SELECT * FROM MEMBER
		</sql>
		
		<sql id="where-no">
			where M_ID=#m_id#
		</sql>
		
		<select id="selectAll" resultMap="loginRes">
		<include refid="select-all"></include>
		</select>
		
		<select id="checkId" resultMap="loginRes" parameterClass="String">
			select * from member
			<include refid="where-no"></include>
		</select>
		
		<select id="findId" resultMap="loginRes" parameterClass="login">
			select * from member
			where M_EMAIL=#m_email#
		</select>
		
		<select id="findPw" resultMap="loginRes" parameterClass="login">
			select * from member
			where M_ID=#m_id# and M_EMAIL=#m_email#
		</select>			

</sqlMap>